<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transition Architecturale MediSecure</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f8f9fa;
      }
      .header-section {
        background: linear-gradient(135deg, #0d6efd, #0a58ca);
        color: white;
        padding: 2rem 0;
        margin-bottom: 2rem;
      }
      .section-title {
        border-left: 5px solid #0d6efd;
        padding-left: 1rem;
        margin-bottom: 1.5rem;
      }
      .card {
        transition: transform 0.3s, box-shadow 0.3s;
        margin-bottom: 1.5rem;
        border: none;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }
      .card-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid rgba(0, 0, 0, 0.125);
        font-weight: 600;
      }
      .technology-badge {
        display: inline-block;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        font-weight: 600;
        border-radius: 0.25rem;
        margin-right: 0.5rem;
        margin-bottom: 0.5rem;
      }
      .old-tech {
        background-color: #f8d7da;
        color: #842029;
      }
      .new-tech {
        background-color: #d1e7dd;
        color: #0f5132;
      }
      .neutral-tech {
        background-color: #e2e3e5;
        color: #41464b;
      }
      .architecture-diagram {
        width: 100%;
        max-width: 800px;
        height: auto;
        margin: 1.5rem auto;
        display: block;
      }
      .comparison-table th,
      .comparison-table td {
        padding: 1rem;
      }
      .comparison-table .positive {
        color: #0f5132;
      }
      .comparison-table .negative {
        color: #842029;
      }
      .problem-tag {
        background-color: #dc3545;
        color: white;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        margin-right: 8px;
      }
      .solution-tag {
        background-color: #198754;
        color: white;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        margin-right: 8px;
      }
      .tab-content {
        padding: 1.5rem;
        background-color: #fff;
        border: 1px solid #dee2e6;
        border-top: none;
        border-radius: 0 0 0.25rem 0.25rem;
      }
      .diagram-container {
        background-color: white;
        padding: 1.5rem;
        border-radius: 0.25rem;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
      }
      .code-block {
        background-color: #f8f9fa;
        border-radius: 0.25rem;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        font-family: "Courier New", monospace;
      }
      .highlight-improvement {
        background-color: #d1e7dd;
        padding: 2px 4px;
        border-radius: 3px;
      }
      pre {
        background-color: #f8f9fa;
        border-radius: 0.375rem;
        padding: 1rem;
        margin-bottom: 1rem;
        overflow-x: auto;
      }
      .img-fluid {
        max-width: 100%;
        height: auto;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="header-section">
      <div class="container">
        <h1 class="display-4 fw-bold">Transition Architecturale MediSecure</h1>
        <p class="fs-5">De la Dette Technique à une Architecture Moderne</p>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container mb-5">
      <!-- Introduction -->
      <section class="mb-5">
        <h2 class="section-title">Introduction au Contexte</h2>
        <div class="row">
          <div class="col-lg-8">
            <p class="lead">
              Ce document présente la transition architecturale du système
              d'information de MediSecure, une plateforme médicale de gestion
              des dossiers patients et de planification des rendez-vous.
            </p>
            <p>
              La refonte se concentre principalement sur le module de
              <strong>Gestion des Rendez-vous</strong>, qui sera implémenté
              selon une architecture moderne utilisant:
            </p>
            <ul>
              <li>
                <strong>Frontend:</strong> React (remplacement d'Angular
                vieillissant)
              </li>
              <li>
                <strong>Backend:</strong> FastAPI (remplacement de Django/Flask
                disparates)
              </li>
              <li>
                <strong>Base de données:</strong> PostgreSQL (optimisation et
                standardisation)
              </li>
            </ul>
          </div>
          <div class="col-lg-4">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-exclamation-triangle-fill text-warning"></i>
                Défis Actuels
              </div>
              <div class="card-body">
                <ul class="list-unstyled">
                  <li>
                    <i class="bi bi-x-circle text-danger"></i> Dette technique
                    importante
                  </li>
                  <li>
                    <i class="bi bi-x-circle text-danger"></i> Architecture
                    monolithique vieillissante
                  </li>
                  <li>
                    <i class="bi bi-x-circle text-danger"></i> Incohérences
                    technologiques
                  </li>
                  <li>
                    <i class="bi bi-x-circle text-danger"></i> Problèmes de
                    performance
                  </li>
                  <li>
                    <i class="bi bi-x-circle text-danger"></i> Synchronisation
                    inefficace
                  </li>
                  <li>
                    <i class="bi bi-x-circle text-danger"></i> Sécurité
                    insuffisante
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Scope of Work -->
      <section class="mb-5">
        <h2 class="section-title">Périmètre du Travail</h2>
        <div class="row">
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header bg-primary text-white">
                <i class="bi bi-bullseye"></i> Focus du Projet
              </div>
              <div class="card-body">
                <p>
                  Cette refonte se concentre spécifiquement sur le
                  <strong>Module de Gestion des Rendez-vous</strong>, un
                  composant critique du système MediSecure qui présente
                  actuellement plusieurs problèmes:
                </p>
                <ul>
                  <li>
                    Synchronisation défaillante entre le site web et les
                    applications
                  </li>
                  <li>
                    Incapacité à gérer efficacement les conflits de
                    planification
                  </li>
                  <li>
                    Performance dégradée lors des périodes de forte affluence
                  </li>
                  <li>
                    Problèmes d'intégration avec les autres modules du système
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header bg-info text-white">
                <i class="bi bi-geo-alt"></i> Positionnement dans l'Architecture
                Globale
              </div>
              <div class="card-body">
                <p>
                  Le module de Gestion des Rendez-vous s'intègre dans
                  l'architecture plus large de MediSecure:
                </p>
                <ul>
                  <li>
                    Interface avec le module de
                    <strong>Gestion des Patients</strong> pour accéder aux
                    dossiers patients
                  </li>
                  <li>
                    Communication avec le module
                    <strong>Facturation</strong> pour la gestion des paiements
                  </li>
                  <li>
                    Interactions avec le module
                    <strong>Ressources Médicales</strong> pour la disponibilité
                    des praticiens
                  </li>
                  <li>
                    Génération de notifications vers le module
                    <strong>Communications</strong>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Current State -->
      <section class="mb-5">
        <h2 class="section-title">État Actuel: Architecture et Technologies</h2>

        <!-- Current Architecture Diagram -->
        <div class="diagram-container text-center mb-4">
          <h5 class="mb-3">Architecture Actuelle du Module de Rendez-vous</h5>
          <img
            src="https://i.ibb.co/9pwmK2J/current-architecture.png"
            alt="Architecture actuelle"
            class="img-fluid"
            style="max-width: 700px"
          />
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="bi bi-code-slash"></i> Technologies Actuelles
              </div>
              <div class="card-body">
                <h6>Frontend</h6>
                <div class="mb-3">
                  <span class="technology-badge old-tech">Angular 12.0</span>
                  <span class="technology-badge old-tech">Node.js 14.x</span>
                  <span class="technology-badge neutral-tech">HTML 5</span>
                  <span class="technology-badge neutral-tech">CSS 3</span>
                  <span class="technology-badge old-tech"
                    >Tests E2E manquants</span
                  >
                </div>

                <h6>Backend</h6>
                <div class="mb-3">
                  <span class="technology-badge old-tech"
                    >Python 3.7 (Django)</span
                  >
                  <span class="technology-badge neutral-tech"
                    >Python 3.9 (Flask)</span
                  >
                  <span class="technology-badge neutral-tech"
                    >FastAPI 0.68</span
                  >
                </div>

                <h6>Base de données</h6>
                <div class="mb-3">
                  <span class="technology-badge old-tech"
                    >MongoDB 4.4 (non shardé)</span
                  >
                  <span class="technology-badge old-tech"
                    >PostgreSQL 13 (index non optimisés)</span
                  >
                  <span class="technology-badge neutral-tech"
                    >MariaDB 10.5 (réplication cassée)</span
                  >
                </div>

                <h6>Infrastructure</h6>
                <div>
                  <span class="technology-badge old-tech"
                    >Ubuntu 18.04/20.04</span
                  >
                  <span class="technology-badge old-tech">Debian 11</span>
                  <span class="technology-badge neutral-tech"
                    >Kong API Gateway (non configuré)</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="bi bi-exclamation-triangle"></i> Problèmes Identifiés
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <span class="problem-tag">Architecture</span>
                    Couplage fort entre les composants rendant toute évolution
                    difficile
                  </li>
                  <li class="list-group-item">
                    <span class="problem-tag">Performance</span>
                    Temps de réponse dégradés lors des pics d'utilisation
                  </li>
                  <li class="list-group-item">
                    <span class="problem-tag">Intégration</span>
                    Problèmes de synchronisation entre le site web et les
                    applications
                  </li>
                  <li class="list-group-item">
                    <span class="problem-tag">Sécurité</span>
                    Failles potentielles dues aux versions obsolètes
                  </li>
                  <li class="list-group-item">
                    <span class="problem-tag">Maintenance</span>
                    Versions Python disparates (3.7 à 3.9) générant des conflits
                  </li>
                  <li class="list-group-item">
                    <span class="problem-tag">Qualité</span>
                    Couverture de tests insuffisante (inférieure à 40%)
                  </li>
                  <li class="list-group-item">
                    <span class="problem-tag">Base de données</span>
                    Schémas inconsistants et indexation insuffisante
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Structure de code actuelle -->
        <div class="row mt-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-folder"></i> Structure de Code Actuelle (Service
                RDV)
              </div>
              <div class="card-body">
                <pre>
service_rdv/
├── app.py                 # Point d'entrée Flask
├── models/               
│   ├── __init__.py        
│   ├── appointment.py     # Modèle de données sans séparation
│   └── utils.py           # Utilitaires mixtes (mélange de responsabilités)
├── views/                
│   ├── __init__.py        
│   └── appointment_views.py # Vues Flask avec logique métier
├── static/
│   └── js/
│       └── calendar.js    # Code JS directement lié au backend
├── templates/
│   └── appointments/
│       └── calendar.html  # Templates HTML
└── requirements.txt       # Dépendances outdated
</pre
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Schéma de base de données actuel -->
        <div class="row mt-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-database"></i> Schéma de Base de Données Actuel
              </div>
              <div class="card-body">
                <div class="diagram-container text-center">
                  <img
                    src="https://i.ibb.co/6Xfmw0H/current-db-schema.png"
                    alt="Schéma de base de données actuel"
                    class="img-fluid"
                    style="max-width: 700px"
                  />
                </div>
                <div class="mt-3">
                  <h6>Problèmes du schéma actuel:</h6>
                  <ul>
                    <li>
                      Fractionnement des données entre plusieurs bases (MongoDB
                      pour patients, PostgreSQL pour rendez-vous)
                    </li>
                    <li>
                      Absence d'indexation optimisée causant des problèmes de
                      performance
                    </li>
                    <li>
                      Pas de contraintes d'intégrité référentielle entre les
                      tables
                    </li>
                    <li>Tables redondantes et non normalisées</li>
                    <li>
                      Pas de gestion efficace des fuseaux horaires pour les
                      rendez-vous
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Target State -->
      <section class="mb-5">
        <h2 class="section-title">État Cible: Architecture et Technologies</h2>

        <!-- Target Architecture Diagram -->
        <div class="diagram-container text-center mb-4">
          <h5 class="mb-3">Architecture Cible du Module de Rendez-vous</h5>
          <img
            src="https://i.ibb.co/F4rNMGr/target-architecture.png"
            alt="Architecture cible"
            class="img-fluid"
            style="max-width: 700px"
          />
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="bi bi-code-slash"></i> Technologies Cibles
              </div>
              <div class="card-body">
                <h6>Frontend</h6>
                <div class="mb-3">
                  <span class="technology-badge new-tech">React 18</span>
                  <span class="technology-badge new-tech">Redux</span>
                  <span class="technology-badge new-tech">TypeScript</span>
                  <span class="technology-badge new-tech">Jest + RTL</span>
                  <span class="technology-badge new-tech">Tailwind CSS</span>
                </div>

                <h6>Backend</h6>
                <div class="mb-3">
                  <span class="technology-badge new-tech">FastAPI 0.95+</span>
                  <span class="technology-badge new-tech">Python 3.11</span>
                  <span class="technology-badge new-tech">Pydantic</span>
                  <span class="technology-badge new-tech">SQLAlchemy 2.0</span>
                  <span class="technology-badge new-tech"
                    >Pytest + 85% Coverage</span
                  >
                </div>

                <h6>Base de données</h6>
                <div class="mb-3">
                  <span class="technology-badge new-tech">PostgreSQL 15</span>
                  <span class="technology-badge new-tech"
                    >PostGIS (Géolocalisation)</span
                  >
                  <span class="technology-badge new-tech"
                    >Indexation optimisée</span
                  >
                  <span class="technology-badge new-tech">Partitionnement</span>
                </div>

                <h6>Infrastructure</h6>
                <div>
                  <span class="technology-badge new-tech"
                    >Docker + Docker Compose</span
                  >
                  <span class="technology-badge new-tech">RabbitMQ</span>
                  <span class="technology-badge new-tech"
                    >Kong + Rate Limiting</span
                  >
                  <span class="technology-badge new-tech"
                    >Prometheus + Grafana</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="bi bi-check-circle"></i> Améliorations Proposées
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <span class="solution-tag">Architecture</span>
                    Architecture hexagonale pour une meilleure séparation des
                    préoccupations
                  </li>
                  <li class="list-group-item">
                    <span class="solution-tag">Performance</span>
                    Optimisation des requêtes DB et mise en cache avec Redis
                  </li>
                  <li class="list-group-item">
                    <span class="solution-tag">Intégration</span>
                    Communication entre services via message broker (RabbitMQ)
                  </li>
                  <li class="list-group-item">
                    <span class="solution-tag">Sécurité</span>
                    Authentification JWT et gestion fine des permissions
                  </li>
                  <li class="list-group-item">
                    <span class="solution-tag">Maintenance</span>
                    Standardisation sur Python 3.11 et gestion des dépendances
                    via Poetry
                  </li>
                  <li class="list-group-item">
                    <span class="solution-tag">Qualité</span>
                    Pipeline CI/CD avec tests automatisés et couverture > 85%
                  </li>
                  <li class="list-group-item">
                    <span class="solution-tag">Base de données</span>
                    Consolidation sur PostgreSQL avec schéma optimisé et
                    réplication HA
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Structure de code cible -->
        <div class="row mt-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-folder"></i> Structure de Code Cible (Service
                RDV)
              </div>
              <div class="card-body">
                <pre>
appointment_service/
├── pyproject.toml         # Gestion des dépendances via Poetry
├── Dockerfile             # Configuration pour conteneurisation
├── docker-compose.yml     # Configuration multi-conteneurs
├── src/
│   ├── domain/            # Couche domaine (Architecture hexagonale)
│   │   ├── entities/
│   │   │   ├── appointment.py    # Entités métier
│   │   │   └── time_slot.py
│   │   ├── ports/
│   │   │   ├── primary/          # Ports d'entrée
│   │   │   │   └── appointment_service_port.py
│   │   │   └── secondary/        # Ports de sortie
│   │   │       ├── appointment_repository_port.py
│   │   │       └── notification_port.py
│   │   ├── services/             # Services du domaine
│   │   │   └── availability_service.py
│   │   └── exceptions/           # Exceptions métier
│   │       └── domain_exceptions.py
│   ├── application/       # Couche application
│   │   ├── usecases/              # Cas d'utilisation
│   │   │   ├── create_appointment_usecase.py
│   │   │   ├── cancel_appointment_usecase.py
│   │   │   └── reschedule_appointment_usecase.py
│   │   ├── dtos/                  # Objets de transfert de données
│   │   │   └── appointment_dto.py
│   │   └── services/              # Services d'application
│   │       └── appointment_service.py
│   └── infrastructure/    # Couche infrastructure
│       ├── adapters/
│       │   ├── primary/           # Adaptateurs d'entrée
│       │   │   ├── api/
│       │   │   │   └── appointment_controller.py
│       │   │   └── event_handlers/
│       │   │       └── appointment_event_handler.py
│       │   └── secondary/         # Adaptateurs de sortie
│       │       ├── repositories/
│       │       │   └── postgresql_appointment_repository.py
│       │       └── notifications/
│       │           └── rabbitmq_notification_adapter.py
│       ├── config/                # Configuration
│       │   ├── database.py
│       │   └── rabbitmq.py
│       └── models/                # Modèles ORM
│           └── appointment_model.py
├── tests/                # Tests
│   ├── unit/
│   │   ├── domain/
│   │   ├── application/
│   │   └── infrastructure/
│   └── integration/
└── scripts/              # Scripts utilitaires
    ├── migrations/
    └── seed_data.py
</pre
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Schéma de base de données cible -->
        <div class="row mt-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-database"></i> Schéma de Base de Données Cible
              </div>
              <div class="card-body">
                <div class="diagram-container text-center">
                  <img
                    src="https://i.ibb.co/NjTjzYH/target-db-schema.png"
                    alt="Schéma de base de données cible"
                    class="img-fluid"
                    style="max-width: 700px"
                  />
                </div>
                <div class="mt-3">
                  <h6>Améliorations du schéma:</h6>
                  <ul>
                    <li>Consolidation de toutes les données dans PostgreSQL</li>
                    <li>Indexation optimisée pour les requêtes fréquentes</li>
                    <li>
                      Contraintes d'intégrité référentielle entre toutes les
                      tables
                    </li>
                    <li>
                      Support natif des fuseaux horaires pour les rendez-vous
                    </li>
                    <li>Tables normalisées selon les bonnes pratiques</li>
                    <li>Utilisation de PostGIS pour la géolocalisation</li>
                    <li>
                      Partitionnement des données historiques pour meilleures
                      performances
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Architecture Hexagonale Section -->
      <section class="mb-5">
        <h2 class="section-title">
          Architecture Hexagonale (Ports & Adapters)
        </h2>

        <div class="row mb-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-diagram-3"></i> Principe de l'Architecture
                Hexagonale
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <div class="diagram-container text-center">
                      <img
                        src="https://i.ibb.co/Wf0Kw8j/hexagonal-architecture.png"
                        alt="Architecture hexagonale"
                        class="img-fluid"
                        style="max-width: 400px"
                      />
                    </div>
                  </div>
                  <div class="col-md-6">
                    <h5>Avantages de l'Architecture Hexagonale</h5>
                    <ul>
                      <li>
                        <strong>Testabilité accrue</strong> - Le domaine métier
                        peut être testé indépendamment des détails techniques
                      </li>
                      <li>
                        <strong>Indépendance technologique</strong> - Les
                        changements de technologies n'affectent pas le cœur
                        métier
                      </li>
                      <li>
                        <strong>Flexibilité d'évolution</strong> - Les
                        composants peuvent évoluer indépendamment
                      </li>
                      <li>
                        <strong>Séparation claire</strong> - Séparation nette
                        entre la logique métier et les détails techniques
                      </li>
                    </ul>
                    <h5>Principes fondamentaux</h5>
                    <ol>
                      <li>Le domaine ne dépend d'aucune technologie externe</li>
                      <li>
                        Les adaptateurs implémentent les ports pour connecter le
                        domaine au monde extérieur
                      </li>
                      <li>
                        Le flux de contrôle va du contrôleur vers le domaine
                        (pas l'inverse)
                      </li>
                    </ol>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Example Implementation -->
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-code-square"></i> Implémentation de
                l'Architecture Hexagonale
              </div>
              <div class="card-body">
                <ul class="nav nav-tabs" id="exampleTabs" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link active"
                      id="domain-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#domain-tab-pane"
                      type="button"
                      role="tab"
                      aria-controls="domain-tab-pane"
                      aria-selected="true"
                    >
                      Domaine
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="application-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#application-tab-pane"
                      type="button"
                      role="tab"
                      aria-controls="application-tab-pane"
                      aria-selected="false"
                    >
                      Application
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="infrastructure-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#infrastructure-tab-pane"
                      type="button"
                      role="tab"
                      aria-controls="infrastructure-tab-pane"
                      aria-selected="false"
                    >
                      Infrastructure
                    </button>
                  </li>
                </ul>
                <div class="tab-content" id="exampleTabsContent">
                  <div
                    class="tab-pane fade show active"
                    id="domain-tab-pane"
                    role="tabpanel"
                    aria-labelledby="domain-tab"
                  >
                    <h5 class="mt-3">
                      Couche Domaine (Entités et règles métier)
                    </h5>
                    <p>
                      La couche domaine contient les entités métier et la
                      logique métier pure, sans dépendance externe.
                    </p>

                    <h6>Entité Appointment</h6>
                    <pre>
# domain/entities/appointment.py
from datetime import datetime
from typing import Optional
from uuid import UUID

class Appointment:
    """Entité rendez-vous (indépendante de toute technologie)"""
    
    def __init__(
        self,
        id: UUID,
        patient_id: UUID,
        doctor_id: UUID,
        start_time: datetime,
        end_time: datetime,
        status: str = "scheduled",
        notes: Optional[str] = None,
        created_at: Optional[datetime] = None
    ):
        self.id = id
        self.patient_id = patient_id
        self.doctor_id = doctor_id
        self.start_time = start_time
        self.end_time = end_time
        self.status = status
        self.notes = notes
        self.created_at = created_at or datetime.now()
        
        # Validation métier dans l'entité
        self._validate()
        
    def _validate(self) -> None:
        """Valide les règles métier de l'entité"""
        if self.end_time <= self.start_time:
            raise ValueError("La fin du rendez-vous doit être après le début")
            
        if (self.end_time - self.start_time).total_seconds() < 900:  # 15 minutes minimum
            raise ValueError("Un rendez-vous doit durer au moins 15 minutes")
            
        valid_statuses = ["scheduled", "confirmed", "cancelled", "completed"]
        if self.status not in valid_statuses:
            raise ValueError(f"Statut invalide. Valeurs autorisées: {valid_statuses}")
    
    def cancel(self) -> None:
        """Annuler un rendez-vous"""
        if self.status == "cancelled":
            raise ValueError("Le rendez-vous est déjà annulé")
            
        if self.status == "completed":
            raise ValueError("Impossible d'annuler un rendez-vous terminé")
            
        self.status = "cancelled"
    
    def reschedule(self, new_start_time: datetime, new_end_time: datetime) -> None:
        """Reprogrammer un rendez-vous"""
        if self.status == "cancelled":
            raise ValueError("Impossible de reprogrammer un rendez-vous annulé")
            
        if self.status == "completed":
            raise ValueError("Impossible de reprogrammer un rendez-vous terminé")
        
        old_start = self.start_time
        old_end = self.end_time
        
        self.start_time = new_start_time
        self.end_time = new_end_time
        
        try:
            self._validate()
        except ValueError as e:
            # Restaurer les valeurs précédentes en cas d'erreur
            self.start_time = old_start
            self.end_time = old_end
            raise e
</pre
                    >

                    <h6>Port Secondaire (Repository)</h6>
                    <pre>
# domain/ports/secondary/appointment_repository_port.py
from abc import ABC, abstractmethod
from datetime import datetime
from typing import List, Optional
from uuid import UUID

from domain.entities.appointment import Appointment

class AppointmentRepositoryPort(ABC):
    """
    Port pour le repository de rendez-vous.
    Interface que les adaptateurs de persistance doivent implémenter.
    """
    
    @abstractmethod
    def save(self, appointment: Appointment) -> None:
        """Sauvegarde un rendez-vous"""
        pass
        
    @abstractmethod
    def find_by_id(self, appointment_id: UUID) -> Optional[Appointment]:
        """Trouve un rendez-vous par son ID"""
        pass
        
    @abstractmethod
    def find_all_by_patient_id(self, patient_id: UUID) -> List[Appointment]:
        """Trouve tous les rendez-vous d'un patient"""
        pass
        
    @abstractmethod
    def find_all_by_doctor_id(self, doctor_id: UUID) -> List[Appointment]:
        """Trouve tous les rendez-vous d'un médecin"""
        pass
        
    @abstractmethod
    def find_conflicts(
        self, 
        doctor_id: UUID, 
        start_time: datetime, 
        end_time: datetime,
        exclude_appointment_id: Optional[UUID] = None
    ) -> List[Appointment]:
        """
        Trouve les rendez-vous en conflit pour un médecin
        sur une plage horaire donnée
        """
        pass
</pre
                    >
                  </div>
                  <div
                    class="tab-pane fade"
                    id="application-tab-pane"
                    role="tabpanel"
                    aria-labelledby="application-tab"
                  >
                    <h5 class="mt-3">Couche Application (Use Cases)</h5>
                    <p>
                      La couche application contient les cas d'utilisation qui
                      orchestrent les opérations sur le domaine.
                    </p>

                    <h6>Use Case: Créer un rendez-vous</h6>
                    <pre>
# application/usecases/create_appointment_usecase.py
from datetime import datetime
from uuid import UUID, uuid4
from typing import Optional

from domain.entities.appointment import Appointment
from domain.ports.secondary.appointment_repository_port import AppointmentRepositoryPort
from domain.ports.secondary.notification_port import NotificationPort
from application.dtos.appointment_dto import AppointmentResponseDTO, CreateAppointmentDTO

class CreateAppointmentUseCase:
    """
    Cas d'utilisation pour la création d'un rendez-vous
    """
    
    def __init__(
        self,
        appointment_repository: AppointmentRepositoryPort,
        notification_service: NotificationPort
    ):
        self.appointment_repository = appointment_repository
        self.notification_service = notification_service
    
    def execute(self, command: CreateAppointmentDTO) -> AppointmentResponseDTO:
        """
        Exécute le cas d'utilisation
        
        Args:
            command: DTO contenant les données nécessaires à la création
            
        Returns:
            DTO contenant les informations du rendez-vous créé
            
        Raises:
            ValueError: Si le créneau est déjà pris
        """
        # Vérifier si le créneau est disponible
        conflicts = self.appointment_repository.find_conflicts(
            doctor_id=command.doctor_id,
            start_time=command.start_time,
            end_time=command.end_time
        )
        
        if conflicts:
            raise ValueError("Le créneau horaire demandé n'est pas disponible")
        
        # Créer le rendez-vous
        appointment_id = uuid4()
        appointment = Appointment(
            id=appointment_id,
            patient_id=command.patient_id,
            doctor_id=command.doctor_id,
            start_time=command.start_time,
            end_time=command.end_time,
            notes=command.notes,
            status="scheduled"
        )
        
        # Sauvegarder le rendez-vous
        self.appointment_repository.save(appointment)
        
        # Envoyer une notification
        self.notification_service.send_appointment_created(
            patient_id=appointment.patient_id,
            doctor_id=appointment.doctor_id,
            appointment_id=appointment.id,
            start_time=appointment.start_time
        )
        
        # Retourner le DTO de réponse
        return AppointmentResponseDTO(
            id=str(appointment.id),
            patient_id=str(appointment.patient_id),
            doctor_id=str(appointment.doctor_id),
            start_time=appointment.start_time.isoformat(),
            end_time=appointment.end_time.isoformat(),
            status=appointment.status,
            notes=appointment.notes,
            created_at=appointment.created_at.isoformat()
        )
</pre
                    >

                    <h6>DTO de Création</h6>
                    <pre>
# application/dtos/appointment_dto.py
from datetime import datetime
from pydantic import BaseModel, validator
from typing import Optional
from uuid import UUID

class CreateAppointmentDTO(BaseModel):
    """DTO pour la création d'un rendez-vous"""
    patient_id: UUID
    doctor_id: UUID
    start_time: datetime
    end_time: datetime
    notes: Optional[str] = None
    
    @validator('end_time')
    def end_time_must_be_after_start_time(cls, v, values):
        if 'start_time' in values and v <= values['start_time']:
            raise ValueError('La fin doit être après le début')
        return v

class AppointmentResponseDTO(BaseModel):
    """DTO pour la réponse à la création/lecture d'un rendez-vous"""
    id: str
    patient_id: str
    doctor_id: str
    start_time: str
    end_time: str
    status: str
    notes: Optional[str] = None
    created_at: str
</pre
                    >
                  </div>
                  <div
                    class="tab-pane fade"
                    id="infrastructure-tab-pane"
                    role="tabpanel"
                    aria-labelledby="infrastructure-tab"
                  >
                    <h5 class="mt-3">Couche Infrastructure (Adapteurs)</h5>
                    <p>
                      La couche infrastructure contient les adaptateurs qui
                      implémentent les ports et connectent le domaine au monde
                      extérieur.
                    </p>

                    <h6>Repository PostgreSQL (Adaptateur Secondaire)</h6>
                    <pre>
# infrastructure/adapters/secondary/repositories/postgresql_appointment_repository.py
from datetime import datetime
from typing import List, Optional
from uuid import UUID

from sqlalchemy.orm import Session
from sqlalchemy import and_, or_

from domain.entities.appointment import Appointment
from domain.ports.secondary.appointment_repository_port import AppointmentRepositoryPort
from infrastructure.models.appointment_model import AppointmentModel

class PostgreSQLAppointmentRepository(AppointmentRepositoryPort):
    """
    Adaptateur de repository pour persister les rendez-vous dans PostgreSQL
    """
    
    def __init__(self, session: Session):
        self.session = session
    
    def save(self, appointment: Appointment) -> None:
        """Sauvegarde un rendez-vous dans PostgreSQL"""
        # Vérifier si le rendez-vous existe déjà
        existing = self.session.query(AppointmentModel).filter(
            AppointmentModel.id == str(appointment.id)
        ).first()
        
        if existing:
            # Mise à jour
            existing.patient_id = str(appointment.patient_id)
            existing.doctor_id = str(appointment.doctor_id)
            existing.start_time = appointment.start_time
            existing.end_time = appointment.end_time
            existing.status = appointment.status
            existing.notes = appointment.notes
        else:
            # Création
            model = AppointmentModel(
                id=str(appointment.id),
                patient_id=str(appointment.patient_id),
                doctor_id=str(appointment.doctor_id),
                start_time=appointment.start_time,
                end_time=appointment.end_time,
                status=appointment.status,
                notes=appointment.notes,
                created_at=appointment.created_at
            )
            self.session.add(model)
            
        self.session.commit()
    
    def find_by_id(self, appointment_id: UUID) -> Optional[Appointment]:
        """Trouve un rendez-vous par son ID"""
        model = self.session.query(AppointmentModel).filter(
            AppointmentModel.id == str(appointment_id)
        ).first()
        
        if not model:
            return None
            
        return self._model_to_entity(model)
    
    def find_all_by_patient_id(self, patient_id: UUID) -> List[Appointment]:
        """Trouve tous les rendez-vous d'un patient"""
        models = self.session.query(AppointmentModel).filter(
            AppointmentModel.patient_id == str(patient_id)
        ).all()
        
        return [self._model_to_entity(model) for model in models]
    
    def find_all_by_doctor_id(self, doctor_id: UUID) -> List[Appointment]:
        """Trouve tous les rendez-vous d'un médecin"""
        models = self.session.query(AppointmentModel).filter(
            AppointmentModel.doctor_id == str(doctor_id)
        ).all()
        
        return [self._model_to_entity(model) for model in models]
    
    def find_conflicts(
        self, 
        doctor_id: UUID, 
        start_time: datetime, 
        end_time: datetime,
        exclude_appointment_id: Optional[UUID] = None
    ) -> List[Appointment]:
        """Trouve les rendez-vous en conflit pour un médecin"""
        query = self.session.query(AppointmentModel).filter(
            AppointmentModel.doctor_id == str(doctor_id),
            AppointmentModel.status.in_(["scheduled", "confirmed"]),
            or_(
                # Commence pendant un autre rendez-vous
                and_(
                    AppointmentModel.start_time <= start_time,
                    AppointmentModel.end_time > start_time
                ),
                # Termine pendant un autre rendez-vous
                and_(
                    AppointmentModel.start_time < end_time,
                    AppointmentModel.end_time >= end_time
                ),
                # Englobe complètement un autre rendez-vous
                and_(
                    AppointmentModel.start_time >= start_time,
                    AppointmentModel.end_time <= end_time
                )
            )
        )
        
        if exclude_appointment_id:
            query = query.filter(AppointmentModel.id != str(exclude_appointment_id))
            
        models = query.all()
        
        return [self._model_to_entity(model) for model in models]
    
    def _model_to_entity(self, model: AppointmentModel) -> Appointment:
        """Convertit un modèle SQLAlchemy en entité du domaine"""
        return Appointment(
            id=UUID(model.id),
            patient_id=UUID(model.patient_id),
            doctor_id=UUID(model.doctor_id),
            start_time=model.start_time,
            end_time=model.end_time,
            status=model.status,
            notes=model.notes,
            created_at=model.created_at
        )
</pre
                    >

                    <h6>Contrôleur FastAPI (Adaptateur Primaire)</h6>
                    <pre>
# infrastructure/adapters/primary/api/appointment_controller.py
from datetime import datetime
from typing import List, Optional
from uuid import UUID
from fastapi import APIRouter, Depends, HTTPException, Query

from application.dtos.appointment_dto import AppointmentResponseDTO, CreateAppointmentDTO
from application.usecases.create_appointment_usecase import CreateAppointmentUseCase
from application.usecases.cancel_appointment_usecase import CancelAppointmentUseCase
from application.usecases.reschedule_appointment_usecase import RescheduleAppointmentUseCase
from application.usecases.get_appointments_usecase import GetAppointmentsUseCase

from infrastructure.config.dependencies import get_use_cases, get_current_user

router = APIRouter(prefix="/appointments", tags=["appointments"])

@router.post("/", response_model=AppointmentResponseDTO)
async def create_appointment(
    data: CreateAppointmentDTO,
    use_cases: dict = Depends(get_use_cases),
    current_user = Depends(get_current_user)
):
    """Crée un nouveau rendez-vous"""
    try:
        use_case: CreateAppointmentUseCase = use_cases["create_appointment"]
        result = use_case.execute(data)
        return result
    except ValueError as e:
        raise HTTPException(status_code=400, detail=str(e))

@router.delete("/{appointment_id}", status_code=204)
async def cancel_appointment(
    appointment_id: UUID,
    use_cases: dict = Depends(get_use_cases),
    current_user = Depends(get_current_user)
):
    """Annule un rendez-vous existant"""
    try:
        use_case: CancelAppointmentUseCase = use_cases["cancel_appointment"]
        use_case.execute(appointment_id)
        return {"status": "success"}
    except ValueError as e:
        raise HTTPException(status_code=400, detail=str(e))

@router.get("/", response_model=List[AppointmentResponseDTO])
async def get_appointments(
    patient_id: Optional[UUID] = Query(None),
    doctor_id: Optional[UUID] = Query(None),
    start_date: Optional[datetime] = Query(None),
    end_date: Optional[datetime] = Query(None),
    use_cases: dict = Depends(get_use_cases),
    current_user = Depends(get_current_user)
):
    """Récupère une liste de rendez-vous avec possibilité de filtrage"""
    try:
        use_case: GetAppointmentsUseCase = use_cases["get_appointments"]
        result = use_case.execute(
            patient_id=patient_id,
            doctor_id=doctor_id,
            start_date=start_date,
            end_date=end_date
        )
        return result
    except ValueError as e:
        raise HTTPException(status_code=400, detail=str(e))
</pre
                    >

                    <h6>Modèle SQLAlchemy</h6>
                    <pre>
# infrastructure/models/appointment_model.py
import uuid
from datetime import datetime
from sqlalchemy import Column, String, DateTime, Text, Index, ForeignKey
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class AppointmentModel(Base):
    """Modèle SQLAlchemy pour les rendez-vous"""
    __tablename__ = "appointments"
    
    id = Column(String(36), primary_key=True, default=lambda: str(uuid.uuid4()))
    patient_id = Column(String(36), ForeignKey("patients.id"), nullable=False, index=True)
    doctor_id = Column(String(36), ForeignKey("doctors.id"), nullable=False, index=True)
    start_time = Column(DateTime, nullable=False, index=True)
    end_time = Column(DateTime, nullable=False, index=True)
    status = Column(String(20), nullable=False, default="scheduled")
    notes = Column(Text, nullable=True)
    created_at = Column(DateTime, nullable=False, default=datetime.now)
    
    # Indexation pour optimiser les requêtes fréquentes
    __table_args__ = (
        # Index pour la recherche des conflits (doctor + plage horaire)
        Index("idx_appointment_doctor_timerange", 
              doctor_id, start_time, end_time),
        # Index pour la recherche de rendez-vous par statut
        Index("idx_appointment_status", status),
    )
                                    </pre
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CI/CD et DevOps -->
      <section class="mb-5">
        <h2 class="section-title">Pipeline CI/CD et Infrastructure DevOps</h2>

        <div class="row mb-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <i class="bi bi-diagram-3"></i> Pipeline CI/CD Complet
              </div>
              <div class="card-body">
                <div class="diagram-container text-center">
                  <img
                    src="https://i.ibb.co/PxC8ztm/cicd-pipeline.png"
                    alt="Pipeline CI/CD"
                    class="img-fluid"
                    style="max-width: 800px"
                  />
                </div>
                <div class="mt-3">
                  <p>
                    Le pipeline CI/CD automatise l'ensemble du processus de
                    déploiement, depuis le commit du développeur jusqu'à la
                    production, avec plusieurs niveaux de tests et de
                    validation.
                  </p>

                  <h5>Les étapes clés du pipeline</h5>
                  <ol>
                    <li>
                      <strong>Vérification du code</strong> : Tests de linting
                      et analyse statique
                    </li>
                    <li>
                      <strong>Build</strong> : Compilation et packaging des
                      applications
                    </li>
                    <li>
                      <strong>Tests unitaires</strong> : Vérification des
                      composants individuels
                    </li>
                    <li>
                      <strong>Tests d'intégration</strong> : Vérification des
                      interactions entre composants
                    </li>
                    <li>
                      <strong>Analyse de sécurité</strong> : Détection des
                      vulnérabilités
                    </li>
                    <li>
                      <strong>Déploiement en préproduction</strong> :
                      Installation dans un environnement similaire à la
                      production
                    </li>
                    <li>
                      <strong>Tests E2E</strong> : Vérification du
                      fonctionnement complet de l'application
                    </li>
                    <li>
                      <strong>Déploiement en production</strong> : Mise en ligne
                      des nouvelles fonctionnalités
                    </li>
                  </ol>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="bi bi-hdd-stack"></i> Infrastructure as Code (Docker)
              </div>
              <div class="card-body">
                <h5>Docker Compose pour l'environnement de développement</h5>
                <pre>
# docker-compose.yml
version: '3.8'

services:
  # Service FastAPI (Backend)
  api:
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    volumes:
      - ./backend:/app
    environment:
      - DATABASE_URL=postgresql://postgres:postgres@db:5432/medisecure
      - RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
      - REDIS_URL=redis://redis:6379/0
      - DEBUG=true
    depends_on:
      - db
      - rabbitmq
      - redis

  # Frontend React
  web:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    volumes:
      - ./frontend:/app
      - /app/node_modules
    environment:
      - REACT_APP_API_URL=http://localhost:8000
    depends_on:
      - api

  # Base de données PostgreSQL
  db:
    image: postgres:15-alpine
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    environment:
      - POSTGRES_PASSWORD=postgres
      - POSTGRES_USER=postgres
      - POSTGRES_DB=medisecure

  # RabbitMQ pour la communication asynchrone
  rabbitmq:
    image: rabbitmq:3-management-alpine
    ports:
      - "5672:5672"
      - "15672:15672"
    volumes:
      - rabbitmq_data:/var/lib/rabbitmq

  # Redis pour le cache
  redis:
    image: redis:alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

volumes:
  postgres_data:
  rabbitmq_data:
  redis_data:
</pre
                >
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="bi bi-git"></i> Configuration GitLab CI/CD
              </div>
              <div class="card-body">
                <h5>Pipeline de CI/CD avec GitLab</h5>
                <pre>
# .gitlab-ci.yml
stages:
  - lint
  - build
  - test
  - security
  - deploy-staging
  - e2e-tests
  - deploy-production

variables:
  DOCKER_REGISTRY: registry.example.com
  IMAGE_TAG: $CI_COMMIT_SHORT_SHA

# Vérification du code
lint:
  stage: lint
  image: python:3.11-slim
  script:
    - cd backend
    - pip install -r requirements-dev.txt
    - black --check .
    - isort --check .
    - flake8 .
    - mypy .

# Construction des images Docker
build-backend:
  stage: build
  image: docker:stable
  services:
    - docker:dind
  script:
    - cd backend
    - docker build -t $DOCKER_REGISTRY/medisecure/backend:$IMAGE_TAG .
    - docker push $DOCKER_REGISTRY/medisecure/backend:$IMAGE_TAG

build-frontend:
  stage: build
  image: docker:stable
  services:
    - docker:dind
  script:
    - cd frontend
    - docker build -t $DOCKER_REGISTRY/medisecure/frontend:$IMAGE_TAG .
    - docker push $DOCKER_REGISTRY/medisecure/frontend:$IMAGE_TAG

# Tests unitaires et d'intégration
test-backend:
  stage: test
  image: python:3.11-slim
  services:
    - postgres:15-alpine
  variables:
    POSTGRES_DB: test_db
    POSTGRES_USER: postgres
    POSTGRES_PASSWORD: postgres
    DATABASE_URL: postgresql://postgres:postgres@postgres:5432/test_db
  script:
    - cd backend
    - pip install -r requirements.txt
    - pytest -xvs --cov=src

# Analyse de sécurité
security-scan:
  stage: security
  image: owasp/zap2docker-stable
  script:
    - zap-baseline.py -t https://staging.medisecure.com -g gen.conf -r report.html

# Déploiement en préproduction
deploy-staging:
  stage: deploy-staging
  script:
    - deploy-to-kubernetes.sh staging

# Tests end-to-end
e2e-tests:
  stage: e2e-tests
  image: cypress/included:12.3.0
  script:
    - cd e2e
    - cypress run

# Déploiement en production
deploy-production:
  stage: deploy-production
  script:
    - deploy-to-kubernetes.sh production
  when: manual
  only:
    - main
</pre
                >
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Comparaison et résumé -->
      <section class="mb-5">
        <h2 class="section-title">
          Tableau comparatif et Avantages de la Transition
        </h2>

        <div class="table-responsive">
          <table class="table table-bordered comparison-table">
            <thead class="table-primary">
              <tr>
                <th>Aspect</th>
                <th>Architecture Actuelle</th>
                <th>Architecture Cible</th>
                <th>Avantages</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Frontend</strong></td>
                <td class="negative">
                  Angular 12 obsolète, mélange de responsabilités
                </td>
                <td class="positive">React 18 + TypeScript + Redux</td>
                <td>
                  <ul>
                    <li>Meilleure performance du rendu</li>
                    <li>Typing strict avec TypeScript</li>
                    <li>Écosystème plus large et actif</li>
                    <li>Approche déclarative et composants réutilisables</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><strong>Backend</strong></td>
                <td class="negative">
                  Mélange Django/Flask avec versions Python hétérogènes
                  (3.7-3.9)
                </td>
                <td class="positive">
                  FastAPI (Python 3.11) avec architecture hexagonale
                </td>
                <td>
                  <ul>
                    <li>Performance supérieure (ASGI vs WSGI)</li>
                    <li>Validation automatique avec Pydantic</li>
                    <li>Documentation OpenAPI automatique</li>
                    <li>Séparation claire domaine/infrastructure</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><strong>Base de données</strong></td>
                <td class="negative">
                  Mélange MongoDB/PostgreSQL/MariaDB sans optimisation
                </td>
                <td class="positive">
                  PostgreSQL 15 consolidé avec indexation optimisée
                </td>
                <td>
                  <ul>
                    <li>Simplification de la maintenance</li>
                    <li>Intégrité des données garantie (ACID)</li>
                    <li>Performance accrue avec indexation optimisée</li>
                    <li>Support géospatial natif avec PostGIS</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><strong>Architecture</strong></td>
                <td class="negative">
                  Monolithique avec couplage fort et non respect de SOLID
                </td>
                <td class="positive">
                  Hexagonale avec séparation des préoccupations
                </td>
                <td>
                  <ul>
                    <li>Testabilité grandement améliorée</li>
                    <li>Flexibilité pour changements technologiques</li>
                    <li>Maintenance simplifiée</li>
                    <li>Évolution par composants indépendants</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><strong>DevOps</strong></td>
                <td class="negative">
                  Aucune automatisation, déploiement manuel
                </td>
                <td class="positive">Pipeline CI/CD complet avec Docker</td>
                <td>
                  <ul>
                    <li>Déploiements fiables et reproductibles</li>
                    <li>Détection précoce des bugs</li>
                    <li>Environnements cohérents (dev/staging/prod)</li>
                    <li>Livraison plus rapide et plus fiable</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><strong>Tests</strong></td>
                <td class="negative">Couverture < 40%, tests manuels</td>
                <td class="positive">Couverture > 85%, tests automatisés</td>
                <td>
                  <ul>
                    <li>Confiance accrue dans les modifications</li>
                    <li>Réduction des régressions</li>
                    <li>Documentation vivante du comportement attendu</li>
                    <li>Facilite le refactoring</li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="row mt-4">
          <div class="col-md-6">
            <div class="card">
              <div class="card-header bg-primary text-white">
                <i class="bi bi-graph-up"></i> Indicateurs de Performance
                Attendus
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush">
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center"
                  >
                    Temps de réponse moyen
                    <span class="badge bg-success rounded-pill"
                      >Réduction de 70%</span
                    >
                  </li>
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center"
                  >
                    Débit de requêtes maximal
                    <span class="badge bg-success rounded-pill">+500%</span>
                  </li>
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center"
                  >
                    Temps de déploiement
                    <span class="badge bg-success rounded-pill">-90%</span>
                  </li>
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center"
                  >
                    Taux d'incidents en production
                    <span class="badge bg-success rounded-pill">-75%</span>
                  </li>
                  <li
                    class="list-group-item d-flex justify-content-between align-items-center"
                  >
                    Taux de disponibilité
                    <span class="badge bg-success rounded-pill">99.9%</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card">
              <div class="card-header bg-info text-white">
                <i class="bi bi-calendar-check"></i> Plan de Transition
              </div>
              <div class="card-body">
                <ol class="list-group list-group-numbered">
                  <li class="list-group-item">
                    Mise en place de l'infrastructure DevOps (2 semaines)
                  </li>
                  <li class="list-group-item">
                    Développement du Backend FastAPI avec architecture
                    hexagonale (4 semaines)
                  </li>
                  <li class="list-group-item">
                    Développement du Frontend React (4 semaines)
                  </li>
                  <li class="list-group-item">
                    Migration des données existantes vers PostgreSQL (2
                    semaines)
                  </li>
                  <li class="list-group-item">
                    Tests d'intégration et tests E2E (2 semaines)
                  </li>
                  <li class="list-group-item">
                    Déploiement en préproduction et tests utilisateurs (2
                    semaines)
                  </li>
                  <li class="list-group-item">
                    Déploiement en production avec période de surveillance (1
                    semaine)
                  </li>
                </ol>
                <div class="text-center mt-3">
                  <strong>Durée totale estimée: 15 semaines</strong>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Conclusion -->
      <section class="mb-5">
        <h2 class="section-title">Conclusion</h2>
<div class="section">
   
    
    <div class="card">
        <div class="card-body">
            <p class="lead">
                La transition architecturale du module de Gestion des Rendez-vous de MediSecure représente une évolution majeure qui permettra de résoudre les problèmes actuels tout en préparant le système pour les enjeux futurs.
            </p>
            
            <p>
                En adoptant une architecture hexagonale avec React, FastAPI et PostgreSQL, MediSecure bénéficiera d'une plateforme :
            </p>
            
            <ul>
                <li><strong>Plus performante</strong>, capable de gérer efficacement les pics d'affluence</li>
                <li><strong>Plus maintenable</strong>, grâce à une séparation claire des préoccupations</li>
                <li><strong>Plus évolutive</strong>, permettant d'intégrer facilement de nouvelles fonctionnalités</li>
                <li><strong>Plus sécurisée</strong>, avec des pratiques modernes de développement et de déploiement</li>
                <li><strong>Plus fiable</strong>, grâce à une couverture de tests exhaustive</li>
            </ul>
            
            <p>
                Cette modernisation technique s'inscrit parfaitement dans la stratégie globale de MediSecure visant à offrir une expérience utilisateur optimale tout en garantissant la sécurité et la confidentialité des données médicales.
            </p>
        </div>
    </div>
</div>

<div class="section">
    <h2 class="section-title">Zoom sur les mesures de sécurité renforcées</h2>
    
    <p class="mb-4">
        L'un des aspects fondamentaux de cette nouvelle architecture concerne la sécurité, élément critique pour une application médicale. MediSecure adopte une approche multicouche pour protéger les données sensibles des patients et garantir la conformité réglementaire.
    </p>
    
    <div class="card-container">
        <div class="card">
            <div class="card-header">
                <i class="bi bi-shield-lock"></i> Authentification Multi-Facteurs
            </div>
            <div class="card-body">
                <p>Tous les utilisateurs doivent s'authentifier avec au moins deux facteurs :</p>
                <ul>
                    <li>Mot de passe fort (respectant les recommandations NIST)</li>
                    <li>Deuxième facteur au choix :
                        <ul>
                            <li>Application d'authentification (TOTP)</li>
                            <li>SMS/Email (OTP)</li>
                            <li>Clé de sécurité physique (FIDO2/WebAuthn)</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <i class="bi bi-key"></i> Gestion des Sessions
            </div>
            <div class="card-body">
                <p>Sécurisation des sessions utilisateurs :</p>
                <ul>
                    <li>Tokens JWT signés et chiffrés</li>
                    <li>Durée de validité limitée (15 minutes)</li>
                    <li>Refresh tokens avec rotation</li>
                    <li>Révocation immédiate possible</li>
                    <li>Détection d'utilisation simultanée de session</li>
                </ul>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <i class="bi bi-person-check"></i> Contrôle d'Accès
            </div>
            <div class="card-body">
                <p>Modèle RBAC (Role-Based Access Control) avancé :</p>
                <ul>
                    <li>Rôles hiérarchiques (médecin, infirmier, admin...)</li>
                    <li>Permissions granulaires par contexte et ressource</li>
                    <li>Séparation des devoirs (SoD) pour les opérations sensibles</li>
                    <li>Contrôles contextuels (heure, localisation, appareil)</li>
                </ul>
            </div>
        </div>
    </div>
</div>
       
</body>
</html>
